<script setup lang="ts">
import NormalPage from "vuepress-theme-hope/components/NormalPage.js"
import { ref, onMounted, watch } from 'vue';
import Cookies from 'js-cookie';

const showTop = ref(Cookies.get('showTop') === 'true');
const showBottom = ref(Cookies.get('showBottom') === 'true');
const showContentBefore = ref(Cookies.get('showContentBefore') === 'true');

const toggleTop = () => {
  showTop.value = !showTop.value;
};
const toggleBottom = () => {
  showBottom.value = !showBottom.value;
};
const toggleContentBefore = () => {
  showContentBefore.value = !showContentBefore.value;
};

watch(showTop, (newValue) => {
  Cookies.set('showTop', newValue, { expires: 7 });
});
watch(showBottom, (newValue) => {
  Cookies.set('showBottom', newValue, { expires: 7 });
});
watch(showContentBefore, (newValue) => {
  Cookies.set('showContentBefore', newValue, { expires: 7 });
});

onMounted(() => {
  showTop.value = Cookies.get('showTop') === 'true';
  showBottom.value = Cookies.get('showBottom') === 'true';
  showContentBefore.value = Cookies.get('showContentBefore') === 'true';
});
</script>

<template>
    <NormalPage>
        <template v-if="showTop" #top>
            <p class="content">
                ğŸŒ æ¯ä¸ªäººéƒ½æœ‰äº«æœ‰åŸºæœ¬äººæƒçš„æƒåˆ©ï¼Œæ— è®ºä»–ä»¬çš„æ€§åˆ«ã€ç§æ—ã€å®—æ•™ä¿¡ä»° ğŸ•Šï¸ æˆ–ç¤¾ä¼šèƒŒæ™¯ã€‚æ”¿åºœ ğŸ›ï¸ å’Œå…¬å¸ ğŸ¢ åº”è¯¥æ‹…è´Ÿèµ·ä¿æŠ¤ç¯å¢ƒçš„è´£ä»» ğŸŒ±ï¼Œè€Œä¸æ˜¯è½¬å«ç»™å…¶ä»–å›½å®¶ ğŸŒ æˆ–æ¶ˆè´¹è€… ğŸ‘¥ã€‚æˆ˜äº‰ ğŸ•Šï¸
                åº”å½“é™åˆ¶åœ¨å±€éƒ¨èŒƒå›´ï¼Œä¸åº”å½“è½¬å˜ä¸ºä¸–ç•Œå¤§æˆ˜ã€‚é¦™æ¸¯ ğŸ‡­ğŸ‡°ã€å°æ¹¾ ğŸ‡¹ğŸ‡¼ã€ç‰çƒ ğŸï¸ æ˜¯ä¸­å›½ä¸å¯åˆ†å‰²çš„ä¸€éƒ¨åˆ† ğŸ‡¨ğŸ‡³ï¼Œå—æµ· ğŸŒŠ æ˜¯ä¸­å›½å†…æµ·ï¼Œå›½å¤–ä¸åº”å½“éšæ„è¿›è¡Œå¼€å‘ã€‚
            </p>
        </template>
        <template v-if="showContentBefore" #contentBefore>
            <p class="content">
                æ–‡æ¡£çš„ä¸€åˆ‡å†…å®¹ä»…ä¾›å‚è€ƒï¼Œæˆ‘ä¼šå°½é‡ä¿è¯å†…å®¹ä¸ºæœ€æ–°çš„å†…å®¹ï¼Œè¿‡æ—¶å†…å®¹å¯èƒ½ä¸ä¼šè¿›è¡Œæ”¶å½•å’Œæ•´ç†ã€‚æ–‡æ¡£ä¸å…è®¸ä»»ä½•ä¸ªäººæˆ–ç»„ç»‡è¿›è¡Œç‰Ÿåˆ©ï¼Œè¿è€…æˆ‘ä¹ŸæŸ¥ä¸åˆ°ã€‚
            </p>
        </template>
        <template #contentAfter>
            <img src="/wxDonation.jpg" alt="å¾®ä¿¡èµèµç " class="responsive-img"/>
        </template>
        <template #bottom>
            <p  v-if="showBottom" class="content">
                å¦‚æœä½ çœ‹åˆ°äº†è¿™é‡Œï¼Œé‚£ä¹ˆè¯·ç»™æˆ‘ä¸€ä¸ªè¯„è®ºï¼Œåœ¨ Bilibili æˆ–æŠ–éŸ³ç»™æˆ‘ä¸€ä¸ªå…³æ³¨å§ã€‚
            </p>
            <button @click="showTop = !showTop">{{ showTop ? 'éšè—' : 'æ˜¾ç¤º' }} é¡¶éƒ¨ä¿¡æ¯</button>
            <button @click="showContentBefore = !showContentBefore">{{ showContentBefore ? 'éšè—' : 'æ˜¾ç¤º' }} å†…å®¹ä¿¡æ¯</button>
            <button @click="showBottom = !showBottom">{{ showBottom ? 'éšè—' : 'æ˜¾ç¤º' }} åº•éƒ¨ä¿¡æ¯</button>
        </template>
    </NormalPage>
</template>

<style scoped>
.content {
    background-color: #7cc2ff;
    /* æµ…è“è‰²èƒŒæ™¯ */
    padding: 20px;
    border-radius: 8px;
    font-family: 'Arial', sans-serif;
    font-size: 18px;
    color: #333;
    margin: 0;
}

button {
  margin: 10px;
  padding: 8px 16px;
  background-color: #4caf50;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

button:hover {
  background-color: #45a049
}

.responsive-img {
    width: 30%; /* Adjust width to fit the container */
    height: auto; /* Maintain aspect ratio */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* å¯é€‰ï¼šæ·»åŠ é˜´å½± */
    display: block; /* ä½¿å›¾ç‰‡æˆä¸ºå—çº§å…ƒç´  */
    margin-left: auto; /* å·¦è¾¹è·è‡ªåŠ¨ */
    margin-right: auto; /* å³è¾¹è·è‡ªåŠ¨ */
  }
</style>
